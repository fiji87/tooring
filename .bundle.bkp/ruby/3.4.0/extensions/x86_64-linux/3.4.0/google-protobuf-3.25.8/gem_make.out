current directory: /mnt/linuxdata/projects/turing/.bundle/ruby/3.4.0/gems/google-protobuf-3.25.8/ext/google/protobuf_c
/usr/bin/ruby extconf.rb
creating Makefile

current directory: /mnt/linuxdata/projects/turing/.bundle/ruby/3.4.0/gems/google-protobuf-3.25.8/ext/google/protobuf_c
make -j17 DESTDIR\= sitearchdir\=./.gem.20260129-2215394-gpfep6 sitelibdir\=./.gem.20260129-2215394-gpfep6 clean

current directory: /mnt/linuxdata/projects/turing/.bundle/ruby/3.4.0/gems/google-protobuf-3.25.8/ext/google/protobuf_c
make -j17 DESTDIR\= sitearchdir\=./.gem.20260129-2215394-gpfep6 sitelibdir\=./.gem.20260129-2215394-gpfep6
compiling protobuf.c
compiling defs.c
compiling message.c
compiling repeated_field.c
compiling map.c
compiling ruby-upb.c
compiling convert.c
compiling wrap_memcpy.c
compiling ./third_party/utf8_range/range2-neon.c
compiling ./third_party/utf8_range/naive.c
compiling ./third_party/utf8_range/range2-sse.c
compiling shared_convert.c
compiling shared_message.c
shared_convert.c: In function ‘shared_Msgval_IsEqual’:
shared_convert.c:39:1: warning: control reaches end of non-void function [-Wreturn-type]
   39 | }
      | ^
shared_convert.c: In function ‘shared_Msgval_GetHash’:
shared_convert.c:64:1: warning: control reaches end of non-void function [-Wreturn-type]
   64 | }
      | ^
shared_message.c: In function ‘shared_Message_Equal’:
shared_message.c:66:1: warning: control reaches end of non-void function [-Wreturn-type]
   66 | }
      | ^
map.c: In function ‘Map_delete’:
map.c:447:26: warning: passing argument 1 of ‘upb_Map_Delete’ discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  447 |   if (upb_Map_Delete(self->map, key_upb, &val_upb)) {
      |                      ~~~~^~~~~
In file included from defs.h:12,
                 from protobuf.h:29,
                 from convert.h:11,
                 from map.c:8:
ruby-upb.h:1772:38: note: expected ‘upb_Map *’ but argument is of type ‘const upb_Map *’
 1772 | UPB_API bool upb_Map_Delete(upb_Map* map, upb_MessageValue key,
      |                             ~~~~~~~~~^~~
linking shared-object google/protobuf_c.so
/usr/bin/ld: /tmp/cctuT3SF.ltrans1.ltrans.o: in function `jsonenc_putbytes':
/usr/include/bits/string_fortified.h:29:(.text+0x366): undefined reference to `__wrap_memcpy'
/usr/bin/ld: /tmp/cctuT3SF.ltrans1.ltrans.o: relocation R_X86_64_PC32 against undefined hidden symbol `__wrap_memcpy' can not be used when making a shared object
/usr/bin/ld: final link failed: bad value
collect2: error: ld returned 1 exit status
make: *** [Makefile:268: protobuf_c.so] Error 1

make failed, exit code 2
